<div class="max-w-screen-2xl mx-auto p-4 md:p-6 2xl:p-10">
  <!-- Breadcrumb Start -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6">
    <h2 class="font-semibold text-title-md2 text-black dark:text-white">Créer un utilisateur</h2>

    <nav>
      <ol class="flex items-center gap-2">
        <li><a href="index.html">Dashboard /</a></li>
        <li class="text-primary">Créer un utilisateur</li>
      </ol>
    </nav>
  </div>
  <div class="grid">
    <div class="flex flex-col gap-9">
      <div class="rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark">

        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="p-6.5">
            <div class="mb-4.5 flex flex-col gap-6 xl:flex-row">
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">First
                  name</label><input type="text" formControlName="name" placeholder="Enter your first name"
                  class="w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              </div>
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Email</label><input
                  type="email" formControlName="email" placeholder="Enter your email"
                  class="w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              </div>
            </div>
            <div class="mb-4.5 flex flex-col gap-6 xl:flex-row">
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Phone</label><input
                  type="tel" formControlName="phone" placeholder="Enter your phoneNumber"
                  class="w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              </div>
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Role</label><select
                  formControlName="role"
                  class="relative z-20 w-full appearance-none rounded border uppercase dark:text-white border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
                  <ng-container *ngFor="let role of role_user | keyvalue">
                    <option value="{{ role.key }}" class="uppercase">{{ role.key }}</option>
                  </ng-container>
                </select></div>

            </div>
            <div class="mb-4.5 flex flex-col gap-6 xl:flex-row">
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Company</label><select
                  formControlName="company"
                  class="relative z-20 w-full appearance-none rounded border uppercase dark:text-white border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
                  <ng-container *ngFor="let company of getCompanies() | async">
                    <option value="{{ company.id }}" class="uppercase">{{ company.uin }} - {{ company.name }}</option>
                  </ng-container>
                </select>
              </div>
              <div  class="w-full xl:w-1/2">
                <div class="relative">
                  <label class="mb-2.5 block text-black dark:text-white">Active</label>
                  <label for="toggle1" class="flex cursor-pointer select-none items-center" style="width: fit-content;">
                    <div class="relative">
                      <input type="checkbox" id="toggle1" class="sr-only" formControlName="active" />
                      <div class="block h-8 w-14 rounded-full bg-meta-9 dark:bg-[#5A616B]"></div>
                      <div [ngClass]="form.value.active && '!right-1 !translate-x-full !bg-primary'"
                        class="absolute left-1 top-1 h-6 w-6 rounded-full bg-white transition"></div>
                    </div>
                  </label>
                </div>
              </div>
            </div>
            <div class="mb-4.5 flex flex-col gap-6 xl:flex-row">
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Password</label><input
                  type="password" formControlName="password" placeholder="Enter your Password"
                  class="w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              </div>
              <div class="w-full xl:w-1/2"><label class="mb-2.5 block text-black dark:text-white">Confirm
                  Password</label><input type="password" formControlName="cpassword" placeholder="Enter your Password"
                  class="w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              </div>
            </div>

            <div class="mb-4.5 flex flex-col gap-6 xl:flex-row"></div><span
              class="px-6.5 py-0 text-danger block mb-2"></span><button type="submit" [disabled]="!form.valid"
              class="flex justify-center rounded bg-primary p-3 font-medium text-gray float-right disabled:opacity-75"
              style="margin: 10px;">Enregistrer</button>
          </div>
        </form>
      </div>
    </div>
  </div>
